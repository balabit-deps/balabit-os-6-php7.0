Backport of:

From 95433e8e339dbb6b5d5541473c1661db6ba2c451 Mon Sep 17 00:00:00 2001
From: Stanislav Malyshev <stas@php.net>
Date: Sun, 27 Mar 2016 14:22:19 -0700
Subject: [PATCH] Fix bug #71798 - Integer Overflow in php_raw_url_encode

---
 ext/standard/url.c | 2 +-
 main/php_version.h | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

Index: php7.0-7.0.4/ext/standard/url.c
===================================================================
--- php7.0-7.0.4.orig/ext/standard/url.c	2016-05-17 13:00:59.865736406 -0400
+++ php7.0-7.0.4/ext/standard/url.c	2016-05-17 13:01:23.018033078 -0400
@@ -608,7 +608,7 @@
  */
 PHPAPI zend_string *php_raw_url_encode(char const *s, size_t len)
 {
-	register int x, y;
+	register size_t x, y;
 	zend_string *str;
 
 	str = zend_string_alloc(3 * len, 0);
